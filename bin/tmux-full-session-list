#!/usr/bin/env python

import subprocess
import re

p = subprocess.Popen(
    ['tmux', 'info'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
out, err = p.communicate()

out = re.split('Sessions:\s\[\d*\]\n', out)
out = re.split('\n\nTerminals:', out[1])
lines = re.split('\n', out[0])

for line in lines:
    if re.match('^\s\d', line):
        details = re.split(':', line)
        details = map(str.strip, details)
        print details[1]
