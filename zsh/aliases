alias ls="ls -AGFlhi"

# Easier navigation:
alias cd..='cd ../'
alias ..='cd ../'
alias ...='cd ../../'
alias .3='cd ../../../'
alias .4='cd ../../../../'
alias .5='cd ../../../../../'
alias .6='cd ../../../../../../'
alias ~="cd ~"
alias -- -="cd -"
alias cdd='cd $DOTFILES'

# show paths
alias path='echo -e ${PATH//:/\\n}'

# file
alias cp='cp -iv'
alias mv='mv -iv'

# zsh history
# TODO add color for legibility
# history (full)
alias h='fc -li 0 | less +G'
# history (internal, ignores history file)
alias hi='fc -liI 0 | less +G'

# pring $PATH, 1 path per line
alias showpath="sed 's/:/\n/g' <<< "$PATH""

# IP addresses
alias ip-external="dig +short myip.opendns.com @resolver1.opendns.com"
# TODO fix localip alias
#alias localip="ipconfig getifaddr en1"

# Copy my public key to the pasteboard
alias pubkey="more ${SSH_KEY_PATH}.pub | pbcopy | printf '=> Public key copied to pasteboard.\n'"

# Fix ssh agent in tmux session
alias fixssh='eval $(tmux showenv -s SSH_AUTH_SOCK)'

# Flush DNS cache
alias flushdns="dscacheutil -flushcache"

# Show/hide hidden files in Finder
alias showdotfiles="defaults write com.apple.finder AppleShowAllFiles -bool true && killall Finder"
alias hidedotfiles="defaults write com.apple.finder AppleShowAllFiles -bool false && killall Finder"

# Hide/show all desktop icons (useful when presenting)
alias showdeskicons="defaults write com.apple.finder CreateDesktop -bool true && killall Finder"
alias hidedeskicons="defaults write com.apple.finder CreateDesktop -bool false && killall Finder"

# fucking .DS_Store files
alias fuckingdsfiles="find . -type f -name '*.DS_Store' -ls -delete"

# Add TODO count to git status
git() {
    if [[ $@ == "status" ]] || [[ $@ == "s" ]]; then
        count_doto="`git grep TODO | wc -l | tr -d ' '`"
        command git $@
        command echo "There are ${count_doto} TODOs in the codebase"
        if [[ -f "$(git rev-parse --show-toplevel)/TODO.md" ]]; then
            echo "Also found a TODO.md file"
            cat $(git rev-parse --show-toplevel)/TODO.md | grep -v -e '^$' | grep -v -e '^#' | head
        fi
    else
        command git "$@";
    fi;
}
alias g="git $@"

# Set tmux window name when launching cmus
cmus() {
    tmux rename-window -t${TMUX_PANE} "cmus";
    command cmus "$@";
}

# Allow me to change the default docker behaviour
docker() {
    echo "$@"
    # Column options:
    # .ID         Container ID
    # .Image      Image ID
    # .Command    Quoted command
    # .CreatedAt  Time when the container was created
    # .RunningFor Elapsed time since the container started
    # .Ports      Exposed ports
    # .State      Container status (e.g., "created", "running", "exited")
    # .Status     Container status with details
    # .Size       Container disk size
    # .Names      Container names
    # .Labels     All labels assigned to the container
    # .Mounts     Names of the volumes mounted
    # .Networks   Names of the networks attached
    if [[ "$1" == "ps" && ! "$@" =~ "--format" ]]; then
        shift
        set -- ps --format="table {{.ID}}\t{{.Image}}\t{{ .Names }}" "$@"
    fi

    command docker "$@"
}

alias rbdevelop="git checkout develop && git pull && git checkout - && git rebase develop"

alias dotedit="tmux rename-window -t${TMUX_PANE} dotfiles ; cd $DOTFILES && nvim README.md"
alias dedit="dotedit"
alias wikiedit="tmux rename-window -t${TMUX_PANE} wiki ; cd ~/wiki/ && nvim ."
alias wedit="wikiedit"
alias muxedit="nvim $XDG_CONFIG_HOME/tmuxinator"
alias medit="muxedit"

alias brupod="brew update && brew outdated"

alias szsh="source ~/.zshrc"

alias sit="idasen-controller --move-to 710"
alias stand="idasen-controller --move-to 1111"

alias mux="tmuxinator"

alias vs="vagrant ssh"
alias vu="vagrant up"

# vim: ft=zsh
